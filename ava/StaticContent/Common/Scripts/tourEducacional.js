function startTourMural() { if ($.ajax({ url: "/AVA/Barras/Home/GetPrimeiroLogin/", async: !1, cache: !1, success: function (e) { bolPrimeiroLogin = e } }), $.ajax({ url: "/AVA/Barras/Home/getVisualizaTourMural/", async: !1, cache: !1, success: function (e) { bolEntendi = e } }), "true" == bolPrimeiroLogin.toLowerCase() || "false" == bolEntendi.toLowerCase()) { var e = !1, a = !1, r = !1; $.ajax({ url: "/AVA/Barras/Home/GetAlunoSemTurma/", cache: !1, success: function (e) { bolAlunoSemTurma = e } }); var o = $.jStorage.get("VerificaSeEResponsavel" + idUsuarioCript); if (o) { var s = o.split("_"); "True" == s[0] && "True" == s[1] ? a = !0 : "False" == s[0] && "True" == s[1] ? a = !0 : "True" == s[0] && "False" == s[1] ? r = !0 : "False" == s[0] && "False" == s[1] ? e = !0 : console.log("Papel não identificado"), iniciaTour(a, r, e) } else $.ajax({ url: "/AVA/Login/Home/GetLogin/", cache: !1, success: function (o) { idUsuarioPublico = o, $.ajax({ url: "/AVA/Barras/Home/VerificaSeEResponsavel/", cache: !1, data: { strLogin: idUsuarioPublico }, success: function (o) { var s = o.split("_"); "True" == s[0] && "True" == s[1] ? a = !0 : "False" == s[0] && "True" == s[1] ? a = !0 : "True" == s[0] && "False" == s[1] ? r = !0 : "False" == s[0] && "False" == s[1] ? e = !0 : console.log("Papel não identificado"), iniciaTour(a, r, e) } }) } }) } } function iniciaTour(e, a, r) { $(".introjs-helperLayer").remove(), $(".introjs-tooltipReferenceLayer").remove(), r && $.ajax({ url: "/AVA/Barras/Home/GetAlunoSemTurma/", cache: !1, success: function (e) { "true" == e.toLowerCase() && (strTextoAlunoTurma = "Aqui, você verá seus colegas de turma!<br><br><input type='button' class='introjs-button introjs-naoquerover'value='Não me mostrar mais isso' onclick='javascript:setTourMuralCompleto();'", strTextoAlunoEducadores = "Em breve, você poderá ver aqui os seus professores!<br><br><input type='button' class='introjs-button introjs-naoquerover'value='Não me mostrar mais isso' onclick='javascript:setTourMuralCompleto();'") } }), _projeto.indexOf("mural") > -1 && $.ajax({ url: "/AVA/Barras/Home/getVisualizaTourMural/", async: !1, cache: !1, success: function (o) { "False" == o && 1 == e && introMuralEducador.start(), "False" == o && 1 == r && introMuralAluno.start(), "False" == o && 1 == a && introMuralResponsavel.start() } }) } function setTourMuralCompleto() { $.ajax({ url: "/AVA/Barras/Home/saveVisualizaTourMural/", async: !0, cache: !1, success: function (e) { "OK" == e && console.log("Removido do tour do Mural") } }), introMuralResponsavel.exit() } var idUsuarioCript = 0, strLogin = "", bolPrimeiroLogin = "False", bolAlunoSemTurma = "False", bolEntendi = "False", strTextoAlunoTurma = "Acesse aqui o grupo da sua turma.<br><br><a href='javascript:setTourMuralCompleto();' class='exit-tour'>Não mostrar novamente.</a>", strTextoAlunoEducadores = "Tenha acesso à lista de professores da sua turma. <br><br><a href='javascript:setTourMuralCompleto();' class='exit-tour'>Não mostrar novamente.</a>", strTextoRespEducadores = "Nesta área estão os professores que dão aula para o seu filho. <br><br><a href='javascript:setTourMuralCompleto();' class='exit-tour'>Não mostrar novamente.</a>"; if (0 == idUsuarioCript) { var assincrono = !1; $.browser.webkit && (assincrono = !0), $.ajax({ type: "POST", url: "/AVA/Login/Home/UsuarioCript", async: assincrono, success: function (e) { idUsuarioCript = e }, error: function (e) { 0 != e.status && (idUsuarioCript = 0) } }) } 0 == strLogin && $.ajax({ url: "/AVA/Login/Home/GetLogin/", cache: !1, success: function (e) { strLogin = e } }); var introMuralEducador = introJs(); introMuralEducador.setOptions({ steps: [{ intro: "Bem-vindo ao Educacional!<br>Que tal fazer um pequeno tour? Clique em 'próximo' para começar.<br><br><a href='javascript:setTourMuralCompleto();' class='exit-tour'>Não mostrar novamente.</a>" }, { element: ".ava_li_acessorapido", intro: "Encontre seções, ferramentas e recursos no menu.<br><br><a href='javascript:setTourMuralCompleto();' class='exit-tour'>Não mostrar novamente.</a>" }, { element: ".ava_ativ", intro: "Crie e agende atividades para suas turmas.<br><br><a href='javascript:setTourMuralCompleto();' class='exit-tour'>Não mostrar novamente.</a>" }, { element: ".noti_li", intro: "Aqui são indicadas as notificações da rede social da sua escola.<br><br><a href='javascript:setTourMuralCompleto();' class='exit-tour'>Não mostrar novamente.</a>", position: "left" }, { element: "#agenda_reduzida", intro: "Lembre-se de compromissos criando eventos na sua agenda.<br><br><a href='javascript:setTourMuralCompleto();' class='exit-tour'>Não mostrar novamente.</a>" }, { element: document.querySelectorAll(".komika")[0], intro: "Compartilhe mensagens com suas turmas e professores da sua escola.<br><br><a href='javascript:setTourMuralCompleto();' class='exit-tour'>Não mostrar novamente.</a>" }, { element: document.querySelectorAll(".komika")[1], intro: "Crie e agende tarefas para seus alunos de forma rápida e fácil pelo mural.<br><br><a href='javascript:setTourMuralCompleto();' class='exit-tour'>Não mostrar novamente.</a>" }, { element: ".h_timeline", intro: "Mensagens compartilhadas por você, sua comunidade escolar e pelo Educacional.<br><br><a href='javascript:setTourMuralCompleto();' class='exit-tour'>Não mostrar novamente.</a>" }, { element: "#sEducadores", intro: "Tenha acesso à lista de professores da escola.<br><br><a href='javascript:setTourMuralCompleto();' class='exit-tour'>Não mostrar novamente.</a>", position: "right" }, { element: "#sTurma", intro: "Encontre suas turmas e acesse seus grupos aqui.<br><br><a href='javascript:setTourMuralCompleto();' class='exit-tour'>Não mostrar novamente.</a>", position: "right"}] }), introMuralEducador.setOptions({ doneLabel: "Fechar", skipLabel: "Fechar", nextLabel: "Próximo", prevLabel: "Anterior" }), introMuralEducador.oncomplete(function () { introMuralEducador.exit() }); var introMuralAluno = introJs(); introMuralAluno.setOptions({ steps: [{ intro: "Bem-vindo ao Educacional!<br>Que tal fazer um pequeno tour? Clique em 'próximo' para começar.<br><br><a href='javascript:setTourMuralCompleto();' class='exit-tour'>Não mostrar novamente.</a>" }, { element: ".ava_li_acessorapido", intro: "Encontre seções, ferramentas e recursos no menu.<br><br><a href='javascript:setTourMuralCompleto();' class='exit-tour'>Não mostrar novamente.</a>" }, { element: ".ava_ativ", intro: "Acesse as atividades agendadas para você realizar e consulte seu desempenho.<br><br><a href='javascript:setTourMuralCompleto();' class='exit-tour'>Não mostrar novamente.</a>" }, { element: ".noti_li", intro: "Aqui são indicadas as notificações da rede social da sua escola.<br><br><a href='javascript:setTourMuralCompleto();' class='exit-tour'>Não mostrar novamente.</a>", position: "left" }, { element: "#agenda_reduzida", intro: "Lembre-se de compromissos criando eventos na sua agenda.<br><br><a href='javascript:setTourMuralCompleto();' class='exit-tour'>Não mostrar novamente.</a>" }, { element: "#sLista_atividade", intro: "Veja quais atividades estão agendadas para os próximos sete dias.<br><br><a href='javascript:setTourMuralCompleto();' class='exit-tour'>Não mostrar novamente.</a>" }, { element: ".h_timeline", intro: "Mensagens compartilhadas pela rede social da sua escola.<br><br><a href='javascript:setTourMuralCompleto();' class='exit-tour'>Não mostrar novamente.</a>" }, { element: "#sEducadores", intro: strTextoAlunoEducadores, position: "right" }, { element: "#sTurma", intro: strTextoAlunoTurma, position: "right"}] }), introMuralAluno.setOptions({ doneLabel: "Fechar", skipLabel: "Fechar", nextLabel: "Próximo", prevLabel: "Anterior" }), introMuralAluno.oncomplete(function () { introMuralEducador.exit() }), introMuralAluno.onafterchange(function (e) { lastClass = $(e).attr("class"), lastIdElem = $(e).attr("id") }); var introMuralResponsavel = introJs(); introMuralResponsavel.setOptions({ steps: [{ intro: "Bem-vindo ao Educacional!<br>Que tal fazer um pequeno tour? Clique em 'próximo' para começar.<br><br><a href='javascript:setTourMuralCompleto();' class='exit-tour'>Não mostrar novamente.</a>" }, { element: ".ava_li_acessorapido", intro: "Encontre seções, ferramentas e recursos no menu.<br><br><a href='javascript:setTourMuralCompleto();' class='exit-tour'>Não mostrar novamente.</a>" }, { element: ".ava_ativ", intro: "Consulte as atividades agendadas para seu filho aqui.<br><br><a href='javascript:setTourMuralCompleto();' class='exit-tour'>Não mostrar novamente.</a>" }, { element: ".noti_li", intro: "Aqui são indicadas as notificações da rede social da sua escola.<br><br><a href='javascript:setTourMuralCompleto();' class='exit-tour'>Não mostrar novamente.</a>", position: "left" }, { element: "#agenda_reduzida", intro: "Lembre-se de compromissos criando eventos na sua agenda.<br><br><a href='javascript:setTourMuralCompleto();' class='exit-tour'>Não mostrar novamente.</a>" }, { element: ".h_timeline", intro: "Visualize, nesta área, as publicações enviadas para seu filho e você.<br><br><a href='javascript:setTourMuralCompleto();' class='exit-tour'>Não mostrar novamente.</a>" }, { element: "#sFilhos", intro: "Acesse o perfil do seu filho e acompanhe suas publicações e atividades.<br><br><a href='javascript:setTourMuralCompleto();' class='exit-tour'>Não mostrar novamente.</a>", position: "right"}] }), introMuralResponsavel.setOptions({ doneLabel: "Fechar", skipLabel: "Fechar", nextLabel: "Próximo", prevLabel: "Anterior", scrollToElement: "true" }), introMuralResponsavel.oncomplete(function () { introMuralEducador.exit() });