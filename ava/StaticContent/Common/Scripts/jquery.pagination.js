jQuery.fn.pagination=function(a,b){b=jQuery.extend({items_per_page:10,num_display_entries:10,current_page:0,num_edge_entries:0,link_to:"#",prev_text:"« Anterior",next_text:"Próxima »",ellipse_text:"...",prev_show_always:true,next_show_always:true,callback:function(){return false}},b||{});return this.each(function(){function c(){return Math.ceil(a/b.items_per_page)}function d(){var a=Math.ceil(b.num_display_entries/2);var d=c();var e=d-b.num_display_entries;var f=g>a?Math.max(Math.min(g-a,e),0):0;var h=g>a?Math.min(g+a,d):Math.min(b.num_display_entries,d);return[f,h]}function e(a,c){g=a;f();var d=b.callback(a,h);if(!d){if(c.stopPropagation){c.stopPropagation()}else{c.cancelBubble=true}}return d}function f(){h.empty();var a=d();var f=c();var i=function(a){return function(b){return e(a,b)}};var j=function(a,c){a=a<0?0:a<f?a:f-1;c=jQuery.extend({text:a+1,classes:""},c||{});if(a==g){var d=jQuery("<span class='current'>"+c.text+"</span>")}else{var d=jQuery("<a>"+c.text+"</a>").bind("click",i(a)).attr("href",b.link_to.replace(/__id__/,a))}if(c.classes){d.addClass(c.classes)}h.append(d)};if(b.prev_text&&(g>0||b.prev_show_always)){j(g-1,{text:b.prev_text,classes:"prev"})}if(a[0]>0&&b.num_edge_entries>0){var k=Math.min(b.num_edge_entries,a[0]);for(var l=0;l<k;l++){j(l)}if(b.num_edge_entries<a[0]&&b.ellipse_text){jQuery("<span>"+b.ellipse_text+"</span>").appendTo(h)}}for(var l=a[0];l<a[1];l++){j(l)}if(a[1]<f&&b.num_edge_entries>0){if(f-b.num_edge_entries>a[1]&&b.ellipse_text){jQuery("<span>"+b.ellipse_text+"</span>").appendTo(h)}var m=Math.max(f-b.num_edge_entries,a[1]);for(var l=m;l<f;l++){j(l)}}if(b.next_text&&(g<f-1||b.next_show_always)){j(g+1,{text:b.next_text,classes:"next"})}}var g=b.current_page;a=!a||a<0?1:a;b.items_per_page=!b.items_per_page||b.items_per_page<0?1:b.items_per_page;var h=jQuery(this);this.selectPage=function(a){e(a)};this.prevPage=function(){if(g>0){e(g-1);return true}else{return false}};this.nextPage=function(){if(g<c()-1){e(g+1);return true}else{return false}};f();b.callback(g,this)})}